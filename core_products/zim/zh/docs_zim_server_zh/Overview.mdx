# API 概览

---

ZIM 服务端提供以下相关 API 接口及回调，可参考 [调用方式](./Accessing%20Server%20APIs.mdx) 调用以下接口。

## 用户相关

|接口名称|接口功能| 默认调用频率限制|
|-|-|-|
|[查询用户在线状态](./User/Query%20users%20online%20status.mdx)| 查询单个用户、或批量查询多个用户的在线状态。| 20 次/秒 |
|[批量注册用户](./User/Batch%20register%20users.mdx)| 批量帮用户注册 IM 账号。| 20 次/秒 |
|[修改用户资料](./User/Modify%20user%20information.mdx)| 修改用户资料信息，包括用户昵称、头像等。| 20 次/秒 |
|[批量添加好友](./User/Batch%20add%20friends.mdx)| 为用户直接批量添加至多 20 名好友，无需对方同意。| 20 次/秒 |
|[批量发送好友申请](./User/Batch%20send%20friend%20requests.mdx)| 为一名用户批量向至多 20 名其他用户发送好友申请。| 20 次/秒 |
|[批量删除好友](./User/Batch%20delete%20friends.mdx)| 为用户批量单向或双向删除至多 20 名好友。| 20 次/秒 |
|[删除所有好友](./User/Delete%20all%20friends.mdx)| 为用户单向或双向删除全部好友数据。| 20 次/秒 |
|[查询好友列表](./User/Query%20the%20friend%20list.mdx)| 根据用户 ID 分页拉取其好友列表，获取备注、好友关系建立时间等信息。| 20 次/秒 |
|[检查好友关系](./User/Check%20friendships.mdx)| 批量检查一名用户与至多 20 名其他用户的好友关系。| 20 次/秒 |
|[更新好友备注](./User/Change%20the%20alias%20of%20a%20friend.mdx)| 为一名用户批量修改至多 20 名好友的备注。| 20 次/秒 |
|[更新好友属性](./User/Modify%20the%20attributes%20of%20a%20friend.mdx)| 为用户修改其好友的好友属性。| 20 次/秒 |
|[批量拉黑用户](./User/Batch%20block%20users.mdx)| 为用户批量拉黑至多 20 名用户，不再接收相关用户消息。| 20 次/秒 |
|[批量移除黑名单](./User/Batch%20unblock%20users.mdx)| 为用户批量将 20 名用户从黑名单移除。| 20 次/秒 |
|[查询黑名单](./User/Query%20the%20blocklist.mdx)| 根据用户 ID 分页拉取其全量黑名单数据。| 20 次/秒 |
|[检查黑名单关系](./User/Check%20blockships.mdx)| 为一名用户批量检查其与至多 20 名其他用户的黑名单关系（是否已拉黑这些用户）。| 20 次/秒 |

## 房间相关

|接口名称|接口功能| 默认调用频率限制|
|-|-|-|
| [获取房间成员信息](./Room/Obtain%20information%20about%20users%20in%20a%20room.mdx) |获取房间成员的信息，包括房间用户数量、用户 ID 及名称。|20 次/秒|
| [移除房间成员](./Room/Remove%20user%20from%20the%20room.mdx) | 移除房间内的指定用户。 |20 次/秒|
| [销毁房间](./Room/Destroy%20the%20room.mdx) | 销毁房间。 | 20 次/秒 |
| [查询用户是否在房间内](./Room/Query%20whether%20a%20user%20is%20in%20a%20room.mdx) | 查询用户是否在指定房间内。 | 20 次/秒 |

## 群组相关

|接口名称|接口功能| 默认调用频率限制|
|-|-|-|
| [创建群组](./Group/Create%20a%20group.mdx) | 创建群组 | 20 次/秒 |
| [修改群规格限制](./Group/Modify%20group%20specification%20limits.mdx) | 修改群组的进群模式、邀请模式、受邀请模式和群成员上线 | 20 次/秒 |
| [查询 App 下的群列表](./Group/Query%20group%20list%20in%20the%20app.mdx) | 获取 App 中所有群组消息。 | 20 次/秒 |
| [查询群成员列表](./Group/Query%20group%20member%20list.mdx) | 根据群组 ID 获取群组中的用户列表。 | 20 次/秒 |
| [移除群成员](./Group/Remove%20group%20member.mdx) | 通过指定用户 ID 移除群内用户。 | 20 次/秒 |
| [转让群主](./Group/Transfer%20the%20group%20ownership.mdx) | 将群主身份转移给群内其他成员。 | 1 次/秒，群级别限制 |
| [添加群成员](./Group/Add%20group%20members.mdx) | 向指定的群中批量添加新成员。 | 1 次/秒，群级别限制 |
| [设置群成员昵称](./Group/Set%20nicknames%20of%20group%20members.mdx) | 批量修改群内成员在该群中的昵称。 | 1 次/秒，群级别限制 |
| [设置群成员角色](./Group/Set%20group%20member%20roles.mdx) | 为群成员设置在群内的角色。 | 20 次/秒 |
| [设置群禁言](./Group/Mute%20a%20group.mdx) | 禁言或解禁群组全员或某些群角色。 | 20 次/秒 |
| [设置群成员禁言](./Group/Mute%20group%20members.mdx) | 禁言或解禁群组内的特定成员。 | 20 次/秒 |
| [解散群组](./Group/Disband%20a%20group%20chat.mdx) | 解散群组。 | 1 次/秒，群级别限制 |

## 消息相关

|接口名称|接口功能| 默认调用频率限制|
|-|-|-|
| [发送单聊消息](./Messaging/Send%20a%20one-to-one%20message.mdx) | 发送 1v1 单聊消息，支持向单个用户、或批量向多个用户发送消息。 | 20 次/秒 |
| [发送群组消息](./Messaging/Send%20group%20messages.mdx) | 发送群组消息，并推送给群组内的所有在线用户。 | 10 次/秒 |
| [发送房间消息](./Messaging/Send%20room%20messages.mdx) | 发送房间消息，推送给房间内的所有在线用户。 | 10 次/秒 |
| [全员推送](./Messaging/Push%20message%20to%20all%20users.mdx) | 向所有在线用户（包括消息发送用户自己）发送特定内容的消息，如文本、图片等。 | 1 次/秒，每 24 小时内仅限 100 次 |
| [撤回单聊消息](./Messaging/Recall%20a%20one-to-one%20message.mdx) | 撤回 2 分钟内的单聊会话消息。 | 20 次/秒 |
| [撤回群聊消息](./Messaging/Recall%20a%20group%20message.mdx) | 撤回 2 分钟内的群聊会话消息。 | 20 次/秒 |
| [导入单聊消息](./Messaging/Import%20one-to-one%20messages.mdx) | 向 ZIM 导入用户的历史单聊消息。 | 20 次/秒 |
| [导入群聊消息](./Messaging/Import%20group%20messages.mdx) | 向 ZIM 导入群组的历史消息。 | 20 次/秒 |

## 呼叫邀请

|接口名称|接口功能| 默认调用频率限制|
|-|-|-|
| [发起呼叫邀请](./Call%20invitation/Send%20a%20call%20invitation.mdx) | 创建 **普通模式** 的呼叫邀请。 | 20 次/秒 |
| [接受呼叫邀请](./Call%20invitation/Accept%20a%20call%20invitation.mdx) | 为用户接受呼叫邀请。 | 20 次/秒 |
| [拒绝呼叫邀请](./Call%20invitation/Reject%20a%20call%20invitation.mdx) | 为用户拒绝呼叫邀请。 | 20 次/秒 |

## 会话相关

|接口名称|接口功能| 默认调用频率限制|
|-|-|-|
| [设置会话消息免打扰](./Conversation/Mute%20notifications%20for%20conversations.mdx) | 撤回 2 分钟内的群聊会话消息。 | 20 次/秒 |
| [置顶会话](./Conversation/Pin%20conversations%20to%20the%20top.mdx) | 为用户批量置顶或取消置顶至多 20 个会话。 | 20 次/秒 |
| [查询会话列表](./Conversation/Query%20conversation%20list.mdx) | 拉取指定用户的全量会话列表。 | 20 次/秒 |
| [查询单聊会话消息列表](./Conversation/Query%20the%20message%20list%20of%20one-on-one%20chats.mdx) | 分页拉取指定用户的某个单聊会话的消息列表。 | 20 次/秒 |
| [查询群聊会话消息列表](./Conversation/Query%20the%20message%20list%20of%20group%20chats.mdx) | 分页拉取某个群聊会话的消息列表。 | 20 次/秒 |
| [设置会话标记](./Conversation/Set%20conversation%20marks.mdx) | 为用户对多个会话设置或取消标记。 | 20 次/秒 |

## 语音组件

|接口名称|接口功能| 默认调用频率限制|
|-|-|-|
| [获取鉴权信息](./ZIM%20Audio/Obtain%20a%20license.mdx) | 获取用于 ZIM 语音组件鉴权的 License。 | 20 次/秒 |

## 回调

<table>
<tbody><tr>
<th>回调名称</th>
<th>回调说明</th>
</tr>
<tr>
<td>[登录登出回调](./Callbacks/Login%20and%20logout.mdx)</td>
<td>开发者可以监听用户上下线行为，实现如统计在线用户等业务逻辑。</td>
</tr>
<tr>
<td>[呼叫创建回调](./Callbacks/Call%20invitation%20sent.mdx)</td>
<td>用户在客户端成功创建呼叫后，业务后台可以接收 ZIM 服务端的呼叫创建回调，用于确定呼叫创建成功请求。</td>
</tr>
<tr>
<td>[呼叫取消回调](./Callbacks/Call%20invitation%20canceled.mdx)</td>
<td>当出现以下情况时，业务后台可以接收 ZIM 服务端的呼叫取消回调，用于确定呼叫状态：<ul><li>呼叫发起用户成功取消呼叫</li><li>呼叫发起用户在成功创建呼叫后主动登出或心跳超时后为登出态</li></ul></td>
</tr>
<tr>
<td>[呼叫接受回调](./Callbacks/Call%20invitation%20accepted.mdx)</td>
<td>当呼叫对象接受呼叫后，业务后台可以接收 ZIM 服务端的呼叫接受回调，用于确定呼叫接受成功请求。</td>
</tr>
<tr>
<td>[呼叫拒绝回调](./Callbacks/Call%20invitation%20rejected.mdx)</td>
<td>当呼叫对象拒绝呼叫后，业务后台可以接收 ZIM 服务端的呼叫拒绝回调，用于确定呼叫拒绝成功请求。</td>
</tr>
<tr>
<td>[呼叫超时回调](./Callbacks/Call%20invitation%20timed%20out.mdx)</td>
<td>呼叫创建成功后，当出现以下情况时，业务后台可以接收 ZIM 服务端的呼叫超时回调，用于确定呼叫超时用户：<ul><li>呼叫对象一直未应答，直到满足后台配置的超时时间</li><li>呼叫对象一直未应答，直到满足创建呼叫时设置的超时时间</li></ul></td>
</tr>
<tr>
<td>[消息发送前回调](./Callbacks/Message%20not%20sent%20yet.mdx)</td>
<td>设置此回调后，当用户发送单聊、群聊或房间聊天消息时，ZIM 会向您的业务后台发起请求，您可以通过应答，对消息进行实时操作。</td>
</tr>
<tr>
<td>[消息发送后回调](./Callbacks/Message%20sent.mdx)</td>
<td>用户发送单聊、群聊、房间消息成功或失败后，业务后台可以接收 ZIM 服务端的发送消息回调，将用户发送的消息实时同步至业务服务器，并存储于业务服务器。</td>
</tr>
</tbody></table>